<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math13.html</title>
    
</head>
<body>
    <fieldset>
        <legend>로또 발생기</legend>
        <button onclick="showLottoNumber();">로또 발생</button>
        <span id='lotto' style='font-size:2em;color:red;font-weight:bold;'></span>
    </fieldset>
    <script>
        /* 클래스 메소드임으로 Math.함수명()식으로 호출한다 */
        console.log(Math);
        console.log(Math.PI);
        //1. abs(): 절대값
        console.log(Math.abs(-10));
        //2. pow(): 지수
        console.log(Math.pow(2, 3));
        //3. round(): 반올림 - 소수점 첫째자리에서 반올림
        console.log(Math.round(3,159));
        //4. ceil(): 올림
        console.log(Math.ceil(3.159));
        //5. floor(): 내림
        console.log(Math.floor(3.159));
        //6. random(): 0.0 <= 값 < 1.0사이의 값을
        //             랜덤하게 발생 시킴
        /*
        parseInt(Math.random()*범위) + 시작값
        예]
        1부터 5사이의 숫자를 랜덤하게 발생시키자
        범위:5-1 = 4
        시작값:1
        parseInt(Math.random()*4)+1:마지막값 5는 포함 안됨
        ※마지막 값을 포함하기 위해서
        범위 + 1
        parseInt(Math.random()*5)+1:마지막값 5도 포함됨
        */
        console.log(Math.random());
        //5~10
        console.log(parseInt(Math.random()*6) +5);

        /*
        문]
        1부터 45까지 숫자를 랜덤하게 6개 발생시키자
        단, 숫자는 ·중복되면 · 안됨 .(즉·로또번호· 생성)
        */
        //1. 함수정의: 자바코드를 자스코드로 변환

        function setRandomNumber(random, start, end) {
            for (var i = 0; i < 6; i++) {
                while (true) {
                    // 랜덤하게 숫자 발생
                    var randomNumber = parseInt(Math.random()*(end - start + 1)) +start; //(Math.random() * (end - start + 1)) + start;
                    // 랜덤하게 발생시킨 숫자 (randomNumber)의 중복 여부 체크를 위한 변수 선언
                    var isDuplicated = false;
                    // 랜덤하게 발생시킨 숫자 (randomNumber)와 배열(random)에 저장된 값의 중복 여부 체크
                    for (var k = 0; k <= i - 1; k++) { // 최초 발생은 랜덤 겹칠 일이 없어서 i-1로 처음 체크 건너뛰기
                        if (randomNumber == random[k]) {
                            isDuplicated = true;
                            break; // for문 나감
                        } // 중복이 안되는 경우 k++하면서 for문 또 체크
                    }

                    if (!isDuplicated) { // 중복되지 않은 경우 //isDuplicated가 false일때 (중복안될때) 배열에 넣기
                        random[i] = randomNumber;
                        break; // while문 나가기
                    }
                } // while

            } // for

        }

        
        //2. 함수 호출
        //var lotto = [];
        
        //var lotto = new Array(6);
        //setRandomNumber(lotto, 1, 45);
        //console.log(lotto);

        /* for(var i in num){
            console.log(num[i]);
        } */
        //3. 버튼 클릭 시 호출되는 아래 함수에 적용
        /* var spanNode;
        window.addEventListener('DOMContentLoaded', function(){ //DOM에 다 로드가됐을때 안의 코드를 실행
            spanNode = document.querySelector('#lotto');
        }); */
        var spanNode = document.querySelector('#lotto');
        function showLottoNumber(){
            var lotto = new Array(6);
            setRandomNumber(lotto, 1, 45);
            var lottoNumber = ' ';
            lotto.forEach(e => lottoNumber += e + ' &nbsp;');
            //spanNode.textContent = lottoNumber;
            spanNode.innerHTML = lottoNumber;

            //document.querySelector('#lotto').innerHTML = lottoNumber;

            //document.querySelector('#lotto').textContent = lotto;
            
            
            
        

        }
        



    </script>
</body>
</html>